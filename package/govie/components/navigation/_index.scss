/// Navigation background colour
///
/// @type Colour
/// @access public

$govie-navigation-background-colour: #f5f4f0 !default;

.govie-navigation {
  border-bottom: 1px solid $govie-border-colour;
  background-color: $govie-navigation-background-colour;

  @include govie-media-query($from: tablet) {
    display: block;
  }

  [hidden],
  &[hidden] {
    display: none;
  }
}

.no-js .govie-navigation {
  @include govie-media-query($until: tablet) {
    display: block;
  }
}

.govie-navigation__list {
  margin: 0;
  padding: 0;
  list-style: none;

  @include govie-media-query($from: tablet) {
    position: relative;
  }
}

.govie-navigation__list-item {
  position: relative;

  @include govie-media-query($from: tablet) {
    $navigation-height: 50px;
    @include govie-font(16, $weight: bold, $line-height: $navigation-height);

    box-sizing: border-box;
    height: $navigation-height;
    height: govie-px-to-rem($navigation-height);
    padding: 0;
    margin: 0 govie-spacing(3);
    float: left;
  }
}

.govie-navigation__list-item--current {
  @include govie-media-query($from: tablet) {
    border-bottom: 4px solid $govie-header-footer-border-colour;
  }
}

.govie-navigation__link,
.govie-navigation__button {
  margin: govie-spacing(3) 0;
  padding: 0;
  @include govie-typography-weight-bold; // Override .govie-link weight

  font-size: 16px; // We do not have a font mixin that produces 16px on mobile
  font-size: govie-px-to-rem(16px);
  color: govie-colour('black') !important;

  // Expand the touch area of the link to the full menu width
  &:after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}

.govie-navigation__link:not([hidden]) {
  display: inline-block;

  @include govie-media-query($from: tablet) {
    display: inline;
  }
}

.govie-navigation__button {
  @include govie-link-common;
  @include govie-link-style-no-underline;
  @include govie-link-style-no-visited-state;
  border: 0;
  color: $govie-link-colour;
  background-color: transparent;
}

.govie-navigation__subnav {
  margin: 0 govie-spacing(-3);
  padding: govie-spacing(2) 0;
  background-color: govie-colour('white');
  list-style: none;
}

.js-enabled .govie-navigation__subnav--active {
  display: block;
}

.govie-navigation__subnav,
.js-enabled .govie-navigation__subnav--active {
  @include govie-media-query($from: tablet) {
    display: none;
  }
}

.govie-navigation__subnav-item {
  display: block;
  position: relative;
  padding: govie-spacing(3);
}

.govie-navigation__subnav-item--current {
  $_current-indicator-width: 4px;
  padding-left: govie-spacing(4) - $_current-indicator-width;
  border-left: $_current-indicator-width solid
    $govie-header-footer-border-colour;
}

.govie-navigation__theme {
  @include govie-typography-common;
  position: relative; // this is to get around the artificial click area generated by the :after of the parent button
  margin: 0;
  padding: govie-spacing(4) govie-spacing(3) govie-spacing(1);
  color: govie-colour('black');

  // Font is defined as a hard 16px so
  // it does not re-size on mobile viewport
  font-size: 16px;
  font-size: govie-px-to-rem(16px);
  font-weight: normal;
}

// overwrite govie-header__menu-button's position and it displaying on tablet
.govie-navigation__menu-button {
  top: auto;
  right: govie-spacing(1);
  bottom: govie-spacing(5);

  &[hidden] {
    display: none;
  }
}
