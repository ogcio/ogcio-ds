import { Meta } from '@storybook/addon-docs'
import { Code } from '../components/Code'

<Meta title="Docs/JavaScript API Reference" />

<h1>JavaScript API Reference</h1>

<p>
  Some of our components can receive configuration options when you create an
  instance in JavaScript. This page lists the available options for these
  components. You can find further information on how to{' '}
  <a href="/?path=/docs/docs-setup-configure-components-with-javascript--page">
    configure these options in our guidance
  </a>
  .
</p>
<p>You can pass these options in an object either as:</p>
<ul>
  <li>a second argument of the component's constructor</li>
  <li>
    the value for the key of the component name in an object passed to{' '}
    <code>initAll</code>
  </li>
</ul>

<p>
  For example, to set the <code>preventDoubleClick</code> option of a button:
</p>
<Code
  code={`// Creating a single instance
var button = document.querySelector('[data-module="button"]')
new GOVIEFrontend.Button(button, {preventDoubleClick: true})\n
// Or when using initAll
GOVIEFrontend.initAll({
  button: {
    preventDoubleClick: true
  }
})`}
/>

<br />
<h2>Accordion</h2>
<h3>i18n</h3>
<p>Type: object</p>
<p>
  Messages used by the component for the labels of its buttons. This includes
  the visible text shown on screen, and text to help assistive technology users
  for the buttons toggling each section.
</p>
<p>Default: see properties</p>
<h4>Properties</h4>
<h5>hideAllSections</h5>
<p>Type: string</p>
<p>
  The text content for the 'Hide all sections' button, used when at least one
  section is expanded.
</p>
<p>Default:</p>
<Code code="Hide all sections" />

<h5>hideSection</h5>
<p>Type: string</p>
<p>The text content for the 'Hide' button, used when a section is expanded.</p>
<p>Default:</p>
<Code code="Hide" />

<h5>hideSectionAriaLabel</h5>
<p>Type: string</p>
<p>
  The text content appended to the 'Hide' button's accessible name when a
  section is expanded.
</p>
<p>Default:</p>
<Code code="Hide this section" />

<h4>i18n.showAllSections</h4>
<p>Type: string</p>
<p>
  The text content for the 'Show all sections' button, used when all sections
  are collapsed.
</p>
<p>Default:</p>
<Code code="Show all sections" />

<h5>showSection</h5>
<p>Type: string</p>
<p>The text content for the 'Show' button, used when a section is collapsed.</p>
<p>Default:</p>
<Code code="Show" />

<h5>showSectionAriaLabel</h5>
<p>Type: string</p>
<p>
  The text content appended to the 'Show' button'√ès accessible name when a
  section is expanded.
</p>
<p>Default:</p>
<Code code="Show this section" />
<br />
<h2>Button</h2>
<h3>preventDoubleClick</h3>
<p>Type: boolean</p>
<p>
  Prevent accidental double clicks on submit buttons from submitting forms
  multiple times.
</p>
<p>Default:</p>
<Code code="false" />

<br />
<h2>CharacterCount</h2>

<h3>maxlength</h3>
<p>Type: number</p>
<p>
  The maximum number of characters. If <code>maxwords</code> is provided, the{' '}
  <code>maxlength</code> option will be ignored.
</p>

<h3>maxwords</h3>
<p>Type: number</p>
<p>
  The maximum number of words. If <code>maxwords</code> is provided, the{' '}
  <code>maxlength</code> option will be ignored.
</p>

<h3>threshold</h3>
<p>Type: number</p>
<p>
  The percentage value of the limit at which point the count message is
  displayed. If this attribute is set, the count message will be hidden by
  default.
</p>
<p>Default:</p>
<Code code="0" />

<h3>i18n</h3>
<p>Type: object</p>
<p>
  Messages shown to users as they type. It provides feedback on how many words
  or characters they have remaining or if they are over the limit. This also
  includes a message used as an accessible description for the textarea.
</p>
<p>Default: see properties</p>

<h4>Properties</h4>
<h5>charactersUnderLimit</h5>
<p>Type: object</p>
<p>
  Message displayed when the number of characters is under the configured
  maximum, <code>maxlength</code>. This message is displayed visually and
  through assistive technologies. The component will replace the{' '}
  <code>{'%{count}'}</code> placeholder with the number of remaining characters.
  This is a{' '}
  <a href="/localise-govuk-frontend/#understanding-pluralisation-rules">
    pluralised list of messages
  </a>
  .
</p>
<p>Default:</p>
<Code
  code={`{
  one: "You have %{count} character remaining",
  other: "You have %{count} characters remaining"
}`}
/>

<h5>charactersAtLimit</h5>
<p>Type: object</p>
<p>
  Message displayed when the number of characters reaches the configured
  maximum, <code>maxlength</code>. This message is displayed visually and
  through assistive technologies.
</p>
<p>Default:</p>
<Code code="You have 0 characters remaining" />

<h5>charactersOverLimit</h5>
<p>Type: object</p>
<p>
  Message displayed when the number of characters is over the configured
  maximum, <code>maxlength</code>. This message is displayed visually and
  through assistive technologies. The component will replace the{' '}
  <code>{'%{count}'}</code> placeholder with the number of remaining characters.
  This is a{' '}
  <a href="/localise-govuk-frontend/#understanding-pluralisation-rules">
    pluralised list of messages
  </a>
  .
</p>
<p>Default:</p>
<Code
  code={`{
  one: "You have %{count} character too many",
  other: "You have %{count} characters too many"
}`}
/>

<h5>wordsUnderLimit</h5>
<p>Type: object</p>
<p>
  Message displayed when the number of words is under the configured maximum,
  <code>maxwords</code>. This message is displayed visually and through assistive
  technologies. The component will replace the <code>{'%{count}'}</code> placeholder
  with the number of remaining words. This is a <a href="/localise-govuk-frontend/#understanding-pluralisation-rules">
    pluralised list of messages
  </a>.
</p>
<p>Default:</p>
<Code
  code={`{
  one: "You have %{count} word remaining",
  other: "You have %{count} words remaining"
}`}
/>

<h5>wordsAtLimit</h5>
<p>Type: object</p>
<p>
  Message displayed when the number of words reaches the configured maximum,
  <code>maxwords</code>. This message is displayed visually and through assistive
  technologies.
</p>
<p>Default:</p>
<Code code="You have 0 words remaining" />

<h5>wordsOverLimit</h5>
<p>Type: object</p>
<p>
  Message displayed when the number of words is over the configured maximum,
  <code>maxwords</code>. This message is displayed visually and through assistive
  technologies. The component will replace the <code>{'%{count}'}</code> placeholder
  with the number of remaining words. This is a <a href="/localise-govuk-frontend/#understanding-pluralisation-rules">
    pluralised list of messages
  </a>.
</p>
<p>Default:</p>
<Code
  code={`{
  one: "You have %{count} word too many",
  other: "You have %{count} words too many"
}`}
/>

<h5>textareaDescription</h5>
<p>Type: object</p>
<p>
  Message made available to assistive technologies, if none is already present
  in the HTML, to describe that the component accepts only a limited amount of
  content. The component will replace the <code>{'%{count}'}</code> placeholder
  with the value of the <code>maxlength</code> or <code>maxwords</code>{' '}
  parameter.
</p>
<p>Default:</p>
<Code
  code={`{
  other: ""
}`}
/>

<br />
<h2>ErrorSummary</h2>
<h3>disableAutoFocus</h3>
<p>
  If set to <code>true</code> the error summary will not be focussed when the
  page loads.
</p>
<p>Type: boolean</p>
<p>Default</p>
<Code code="false" />

<br />
<h2>NotificationBanner</h2>
<h3>disableAutoFocus</h3>
<p>Type: boolean</p>
<p>
  If set to <code>true</code> the notification banner will not be focussed when
  the page loads. This only applies if the component has a <code>role</code> of{' '}
  <code>alert</code> - in other cases the component will not be focused on page
  load, regardless of this option.
</p>
<p>Default:</p>
<Code code="false" />
